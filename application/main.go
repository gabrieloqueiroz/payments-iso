package main

import (
	"fmt"
	"iso8583/service"
	"iso8583/util"
)

func main() {
	createCommand(util.ConstantsUtilsInst.REQUEST_PRE_AUTHORIZATION())
	// convertCommandToMsg("0200F23C4601A8E19618000000000000010416541333008902001100300000000000100004101809270091941509270410041015200510030601455306014553335413330089020011D2512601079360805000000088900GT000131012005532486001ENTREPA*Homologa  o E  SAO PAULO     BRA065 6105000017601U1401C??o E012014MTIP32 MCD 15A01301440402244000115986D002E27D002E27270250010120000000022000020011408FF20c9820218009F2701809F26081DDDB9B651A2A8CA9F36020214950580402480009F34034203009F3704E065DFEF9F3303E0F0C85F280200769F10120610A000002A0000000000000000000000FF9A032404099F1A0200769F3501229C01008407A00000000410109F02060000000022005F2A0209865F24032008319F150255118E1200000000000000004201410342031E031F039F120948697065726361726450094869706572636172645F3401005F20184D45524341444F2F48204142455254555241202020202020016D002E27131784908119001008GP0104AD0020101493572496003026000000000030007603015000  004016000001.63 230602005003PAX006004A91000701014935724960649990580010320200007618013010342260000056451300300200038006374686082010013002020FFFFFFFFFFF00A2000C50030012004020000000000000000000000050011006004    ")
}

func convertCommandToMsg(command string) {
	parser := service.NewParser()
	parsedMsg, err := parser.Parse(command)
	if err != nil {
		fmt.Printf("Error parsing ISO8583 message: %v \n", err)
		return
	}

	parsedMsg.LogFields()
}

func createCommand(mti string) {
	commandbuilder := &service.MessageService{MethodType: mti}
	commandbuilder.CreateMsg()
}
